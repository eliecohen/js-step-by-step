<div class="stam container-fluid" template1>
    <h3>Closure Introduction</h3>
    <ul class="key-message">
        <li>Consider the code bellow. ftp.upload is an assyncronous method, its callback function is intend to be executed at some point in the future (when the upload will be completed).
            At that time the outer function sera deja sorti depuis longtemps (line 12). The question is the following,
            when the callback will be executed can it access to variable of the outer function (such as color)?<br/>
            Yes, this is exaclty what closure give.
            <br/> Functions as first-class object, would not be useful without closure.
        </li>
    </ul>
    <br/>

    <!-- #################### 1 ######################-->

    <div class="row code code1" style="margin-left: 10px">
        <div class="col-md-6">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>

    start (){

        var color = "yellow";

        ftp.upload ( function (){
            console.log("ftp upload completed");
            console.log(color);
        }

        console.log ("exit foo");
    }
    
    start ();

</code>
            </pre>
        </div>
         <div class="col-md-6">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>

    // exit foo
    
    // yellow

</code>
            </pre>
        </div>
    </div>

    <!-- #################### 1 ######################-->

    <div class="row code code2" style="margin-left: 10px">
        <div class="col-md-6">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>

    UpdateUserPassword (request,response){
        ...
        user = retrieveCurrentUser();
        user.password = request.password;
        user.save (function {
            console.log ("password changed");
            response.json(user);
        });
    }

</code>
            </pre>
        </div>
    </div>

    <!-- #################### 2 ######################-->

    <div class="row code code2" style="margin-left: 10px">
        <div class="col-md-12">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>
var foo;         //foo is defined, but its type is still undefined
foo = 10;        //foo is now a number
foo = "abc";     //foo is now a string
foo = true;      //foo is now a boolean
</code>
            </pre>
        </div>
    </div>

    <!-- #################### 3 ######################-->

    <div class="row code code3" style="margin-left: 10px">
        <div class="col-md-12">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>
// the boolean type
foo = true;        //foo is a boolean with true
foo = false;     //foo is a boolean with a false


foo = "abc";     //foo is now a string
foo = true;      //foo is now a boolean
</code>
            </pre>
        </div>
    </div>


</div>

