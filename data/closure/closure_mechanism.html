<div class="stam container-fluid" template1>
    <h3>Closure Mechanism</h3>
    <ul class="key-message">
        <li>
            To better understand the closure mechanism we can reprent the process as follow.
            1) when function as argument to another function. The ..... garde une reference
            2) when the outer function exit. a reference is active so it will not destroy the context scope.
            3) the callback is called the function variable are accessible by .
            4) the callback exit the context scope is destroy
        </li>

       <!-- functions are first-class object, they can be manipulated and pass as argument to other function like any other data type.
        Closure take advantage of this property by making it usefull.

         <li>   (when the user object will be saved in the db). When it will happen the updateUserPassord will be..
            .depuis lontempts.
            Closure est l'ability de la function ...
        d'acceder au variable de la function meme si la function mere est deja sorti.</li>
        <li>timeout?</li>-->
    </ul>
    <br/>

    <!-- #################### 1 ######################-->

    <div class="row code code1" style="margin-left: 10px">
        <div class="col-md-6">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>

    foo (){

        var color = "yellow";

        ftp.upload ( function (){
            console.log("ftp upload completed");
            console.log(color);
        }

        console.log ("exit foo");
    }

</code>
            </pre>
        </div>
    </div>

    <!-- #################### 1 ######################-->

    <div class="row code code2" style="margin-left: 10px">
        <div class="col-md-6">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>

    UpdateUserPassword (request,response){
        ...
        user = retrieveCurrentUser();
        user.password = request.password;
        user.save (function {
            console.log ("password changed");
            response.json(user);
        });
    }

</code>
            </pre>
        </div>
    </div>

    <!-- #################### 2 ######################-->

    <div class="row code code2" style="margin-left: 10px">
        <div class="col-md-12">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>
var foo;         //foo is defined, but its type is still undefined
foo = 10;        //foo is now a number
foo = "abc";     //foo is now a string
foo = true;      //foo is now a boolean
</code>
            </pre>
        </div>
    </div>

    <!-- #################### 3 ######################-->

    <div class="row code code3" style="margin-left: 10px">
        <div class="col-md-12">
            <pre class="pre-code line-numbers">
<code class="language-javascript" prism>
// the boolean type
foo = true;        //foo is a boolean with true
foo = false;     //foo is a boolean with a false


foo = "abc";     //foo is now a string
foo = true;      //foo is now a boolean
</code>
            </pre>
        </div>
    </div>


</div>

